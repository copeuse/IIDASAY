<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>INTERNET IS DYING AND SO ARE YOU</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
  <style>
    .hidden {
      display: none !important;
    }
    body {
      font-family: "Source Code Pro", monospace;
      font-weight: 400;
      text-align: center;
      padding: 50px;
      background: #fdf0f5;
    }
    audio {
      width: 300px;
    }
    #cover {
      max-width: 300px;
      margin: 20px auto;
      display: block;
      border-radius: 10px;
    }
    #chat-iframe {
      width: 100%;
      max-width: 900px;
      height: 600px;
      margin: 30px auto;
      display: block;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    #smiley-iframe {
      width:100%;
      max-width: 900px;
      height: 375px;
      overflow: auto;
      border-radius: 8px;
    }
    @media (max-width: 768px) {
      #chat-iframe {
        height: 500px;
        margin: 20px auto;
      }
    }
    @media (max-width: 480px) {
      #chat-iframe {
        height: 400px;
        margin: 15px auto;
      }
    }
  </style>
</head>
<body>
  <h1>INTERNET IS DYING AND SO ARE YOU</h1>
  <h3>currently curated by <a href="https://n2v2.bandcamp.com" target="_blank">névé</a>, <a href="https://thanas1.bandcamp.com" target="_blank">louisæ</a>, <a href="https://score16.bandcamp.com" target="_blank">score16</a>, <a href="https://mathildab.bandcamp.com" target="_blank">mathilda b</a>, <a href="https://soundcloud.com/labtoxin" target="_blank">labtoxin</a>, <a href="https://soundcloud.com/chmod_777" target="_blank">chmod777</a> and <a href="https://img.leboncoin.fr/api/v1/lbcpb1/images/90/fe/34/90fe34a881dea9a7a1aff9d30a04a8e7e2876592.jpg?rule=ad-image" target="_blank">synette</a></h3>
  <h4>track selection changes based on the hour, paris time. new tracks are added every day</h4>
  <!-- Le lecteur audio -->
  <audio controls preload="none" style="margin: 25px">
    <source src="https://radio.spaceghost.pink/idasay.mp3" type="audio/mpeg">
    HTML5 audio not supported by your browser.
  </audio>
  
<div id="info-block">
  <div id="normal-mode">
    <p style="margin-top: 25px;" id="current-title">Loading...</p>
    <a id="cover-link" href="#" target="_blank" style="display:none;">
      <img id="cover" src="" alt="Current cover">
    </a>
  </div>
  <div id="dj-mode" style="display:none;">
    <h3>tonight's music selection offered by <a id="dj-link" href="#" target="_blank"></a></h3>
    <p id="dj-text"></p>
  </div>
</div>
  
  <p style="margin-top: 75px;" id="current-listeners">Loading listeners...</p>

<iframe id="chat-iframe" class="hidden"
  src="https://web.libera.chat/?channels=#idasay"
  title="irc - #idasay"
  allowfullscreen>
</iframe>

<iframe id="smiley-iframe" class="hidden"
  src="smiley_gen/index.html"
  title="smiley_gen"
  allow="clipboard-write *"
  allowfullscreen>
</iframe>


  <p style="text-align: left; white-space: pre; margin-top: 125px;">This page is under construction, <a href="https://github.com/copeuse/IIDASAY" target="_blank">any help is welcome!</a></p> 
  <p style="text-align: start; font-size: x-small; margin-left: 525px; margin-top: 225px;"> I grew up with the feeling that the internet was immortal, yet <a href="https://en.wikipedia.org/wiki/Link_rot" target="_blank">the web is dying, and has been since its birth</a>.
His aging has been accelerated by the centralization of its content and activities. <a href="https://youtu.be/oYlcUbLAFmw?si=oB7WZe4J3h9eEUJ9" target="_blank">The internet once had many doors; today, it's just one big room</a>.
The fact that different powers control this room is nothing new. Whether to <a href="https://en.wikipedia.org/wiki/Cambridge_Analytica" target="_blank">seize power</a> or <a href="https://www.instagram.com/p/DOdvj39gMLm/?img_index=1" target="_blank">erase their crimes</a>, they have repeatedly proven how they can easily abuse the situation to enforce their fascist policies.
It is therefore no surprise that France, claiming to protect children from pornography, voted for a <a href="https://fightchatcontrol.eu/" target="_blank">European bill aimed at authorizing the use of AI for remote mass surveillance</a>.
How can all this be implemented? Probably through <a href="https://en.wikipedia.org/wiki/Paragon_Solutions" target="_blank">malware supplied by Israel</a>, or through <a href="https://www.instagram.com/p/DOdvj39gMLm/?img_index=1" target="_blank">collusion between the government and Google</a>. 
The last bastions of internet freedom are dying before our very eyes: <a href="https://www.bbc.com/news/articles/cjr11qqvvwlo" target="_blank">the end of Wikipedia in the United Kingdom</a>, <a href="https://www.enworld.org/threads/itch-io-is-shadowbanning-or-deleting-nsfw-and-lgbtq-content.714500/" target="_blank">the suppression of LGBT art</a>, <a href="https://www.laquadrature.net/2025/03/18/le-gouvernement-pret-a-tout-pour-casser-le-droit-au-chiffrement/" target="_blank">the destruction of anonymous spaces on the internet</a>...
censorship is already a thing, and its impact is undeniable. Faced with this reality, there are different ways forward, and fighting is obviously one of them. 
But I won't dwell on how to fight. I think fighting can manifest itself in many ways, 
and I invite anyone reading these lines to discuss it with their friends and family, to understand their needs, their expectations, their desires, 
with the aim of being able to continue communicating with those you care about, as well as those we know nothing about, and to preserve knowledge in order to be able to pass it on.</p>
  <p style="text-align: start; font-size: x-small; margin-left: 525px;"><a href="https://internet-is-dying-and-so-are-you.com/">INTERNET-IS-DYING-AND-SO-ARE-YOU.COM</a> is an opensource webradio with a basic chat system, both built with very simple tools. It's an ode to the ephemeral, to the punk movement, and to early internet days.
A webradio springs to life, lives, and dies. It's impossible to archive it. If no one listens to it, it no longer truly exists. 
It's a moment, a moment that I invite you to experience together, before it disappears forever.</p>
<p style="text-align: left; white-space: pre; margin-top: 250px;"> 　　　　 ＿___/￣＞￣フ Idasay <a style="color: red;">fatigué</a> car no <a style="color: red;">sommeil</a>......
 　   ／￣  　|　_　 _l  
 　／￣|      ` ミ＿xノ    
　| (￣ヽ＿__ヽ_)__)     \＿＿/ 
 　＼二つ</p>
<p style="text-align: left; white-space: pre; margin-left: 200px; margin-top: 150px;">--> <a href="https://bsky.app/profile/internet-is-dying-and-so-are-you.com" target="_blank">idasay news</a> <--</p>
<p style="text-align: end; font-size: x-small; margin-right: 200px; margin-top: 230px;"><a href="https://spaceghost.pink" target="_blank">spaceghostpink</a></p>
<p style="text-align: center; margin-top: 110px;">add this cool button to your website ! <a href="https://internet-is-dying-and-so-are-you.com"><img src="https://raw.githubusercontent.com/copeuse/IIDASAY/refs/heads/main/idasay.gif" width="88" height="31" alt="INTERNET IS DYING AND SO ARE YOU"></a> <textarea readonly="" cols="40" row="3"> <a href="https://internet-is-dying-and-so-are-you.com"><img src="https://raw.githubusercontent.com/copeuse/IIDASAY/refs/heads/main/idasay.gif" width="88" height="31" alt="INTERNET IS DYING AND SO ARE YOU"></a></textarea></p>
<script>
async function updateRadioInfo() {
  const normalBlock = document.getElementById("normal-mode");
  const djBlock = document.getElementById("dj-mode");

  const now = new Date();
  const parisTime = new Date(now.toLocaleString("en-US", { timeZone: "Europe/Paris" }));
  const hour = parisTime.getHours();

  const isDjHour = (hour === 23 || hour === 0);

  // --- bloc DJ ---
  if (isDjHour) {
    try {
      const res = await fetch("https://radio.spaceghost.pink/dj/info.json", { cache: "no-store" });

      if (res.ok) {
        const data = await res.json();
        if (data && data.pseudo && data.reseaux && data.texte) {
          document.getElementById("dj-link").href = data.reseaux;
          document.getElementById("dj-link").textContent = data.pseudo;
          document.getElementById("dj-text").textContent = data.texte;

          normalBlock.style.display = "none";
          djBlock.style.display = "block";

          // --- listeners ---
          await updateListeners();

          return;
        }
      }
    } catch (err) {
      console.warn("Erreur JSON DJ info :", err);
    }
  }

  // --- mode normal ---
  try {
    const nowRes = await fetch("https://radio.spaceghost.pink/np/nowplaying.json");
    const nowData = await nowRes.json();

    const statusRes = await fetch("https://radio.spaceghost.pink/status-json.xsl");
    const statusData = await statusRes.json();
    const source = statusData.icestats.source;

    const trackUrl = nowData.url || "#";
    const coverUrl = nowData.cover || "";

    // titre
    let title = source.title || "No title";
    title = title.replace(/&#(\d+);/g, (_, code) => String.fromCodePoint(code));

    const titleEl = document.getElementById("current-title");
    titleEl.innerHTML = `<a href="${trackUrl}" target="_blank">♫ ${title} ♫</a>`;
    document.title = `♫ ${title} ♫ - INTERNET IS DYING AND SO ARE YOU`;

    // cover
    const coverImg = document.getElementById("cover");
    const coverLink = document.getElementById("cover-link");
    if (coverUrl) {
      coverImg.src = coverUrl + "?t=" + new Date().getTime();
      coverLink.href = trackUrl;
      coverLink.style.display = "inline-block";
    } else {
      coverLink.style.display = "none";
    }

    normalBlock.style.display = "block";
    djBlock.style.display = "none";

    // --- listeners ---
    await updateListeners();

  } catch (error) {
    console.error("Erreur :", error);
    const titleEl = document.getElementById("current-title");
    if (titleEl) titleEl.textContent = "Impossible to fetch title";
  }
}

// --- fonction séparée pour listeners ---
async function updateListeners() {
  try {
    const statusRes = await fetch("https://radio.spaceghost.pink/status-json.xsl");
    const statusData = await statusRes.json();
    const source = statusData.icestats.source;

    const listeners = source.listeners ?? 0;

    const listenersEl = document.getElementById("current-listeners");
    const chatIframe = document.getElementById("chat-iframe");
    const smileyIframe = document.getElementById("smiley-iframe");

    listenersEl.innerHTML =
      `${listeners} listener${listeners === 1 ? "" : "s"} ${
        listeners >= 2 ? "...maybe you’d like to chat all together? ↴" : ""
      }`;

  if (listeners >= 2) {
    chatIframe.classList.remove("hidden");
    smileyIframe.classList.remove("hidden");
  } else {
    chatIframe.classList.add("hidden");
    smileyIframe.classList.add("hidden");
  }

  } catch (err) {
    console.warn("Impossible de récupérer les listeners :", err);
    const el = document.getElementById("current-listeners");
    if (el) el.textContent = "Loading listeners...";
  }
}


// premier lancement
updateRadioInfo();

// toutes les 10s
setInterval(updateRadioInfo, 10000);

</script>


</body>
</html>
